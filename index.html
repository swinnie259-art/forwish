<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCT WISH ìŠ¤íƒ€ í”Œë ˆì´ì–´</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* å¼•å…¥åƒç´ å­—ä½“ */
        @font-face {
            font-family: 'PixelEmulator';
            src: url('https://fonts.gstatic.com/s/pressstart2p/v15/R70mJzJ2w-d9yIeF_V9Jg7V2BfSgI3Q.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
        }

        /* æ ¸å¿ƒæ ·å¼å’Œåƒç´ åŒ–æ•ˆæœ - è°ƒæ•´ä¸ºæ›´å¯çˆ±çš„ç²‰è‰²/è–„è·ç»¿/é»„è‰²è°ƒ */
        :root {
            --color-soft-green: #C5E1A5; /* æŸ”å’Œçš„ç»¿è‰² */
            --color-blue-dark: #4DB6AC; /* è–„è·ç»¿ */
            --color-green-screen: #E0F7FA; /* æµ…æ°´è‰²å±å¹• */
            --color-green-dark: #00897B;
            --color-y2k-pink: #F48FB1; /* å¯çˆ±äº®ç²‰ */
            --color-button: #FFAB91; /* çŠç‘šæ©™ */
            --pixel-border: 6px solid #000000;
            --star-yellow: #FFEE58; /* é—ªäº®æ˜Ÿæ˜Ÿé»„ */
            --game-wall: #81D4FA; /* æµ…è“è‰²å¢™å£ */
            --letter-paper: #FFFDE7; /* ä¿¡çº¸é¢œè‰² */
            --envelope-color: #FFCDD2; /* ä¿¡å°é¢œè‰² */
        }

        body {
            font-family: 'PixelEmulator', monospace;
            background-color: #F8BBD0; /* å¯çˆ±ç²‰è‰²èƒŒæ™¯ */
            color: #000000;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        /* ä¸»åº”ç”¨å®¹å™¨ - é™åˆ¶æœ€å¤§å®½åº¦, æ¨¡æ‹Ÿæ‰‹æœºå±å¹• */
        .app-container {
            width: 100%;
            max-width: 420px; 
            background-color: #FCE4EC; /* ææµ…ç²‰è‰² */
            padding: 20px 10px;
            box-shadow: 0 0 30px rgba(255, 64, 129, 0.5); /* äº®ç²‰è‰²é˜´å½± */
            display: flex;
            flex-direction: column;
            gap: 20px; 
        }
        
        /* é¡¶éƒ¨ä»‹ç»åŒºåŸŸ - å¢åŠ åœ†è§’å’Œé˜´å½±çš„å¯çˆ±æ„Ÿ */
        .intro-section {
            padding: 15px;
            border: 4px solid #000;
            background-color: #ffffff; 
            box-shadow: 6px 6px 0px var(--color-y2k-pink); 
            border-radius: 12px;
            text-align: center;
        }
        
        .intro-title {
            font-size: 16px; 
            margin-bottom: 10px; 
            color: var(--color-y2k-pink);
            text-shadow: 2px 2px 0 var(--color-soft-green);
        }
        
        .intro-text {
            font-size: 10px; 
            line-height: 1.5; 
            color: #333;
        }

        /* æˆå‘˜ä»‹ç»åŒºæ ·å¼ */
        .member-button {
            background-color: var(--color-soft-green); /* æŸ”å’Œç»¿è‰²æŒ‰é’® */
            box-shadow: 4px 4px 0px var(--color-blue-dark);
        }
        .member-button:active {
            background-color: #A3D18E;
        }

        /* æˆå‘˜ç®€ä»‹æ˜¾ç¤ºæ¡† */
        #profileDisplay {
            border: 4px solid var(--color-blue-dark); 
            box-shadow: 6px 6px 0px var(--color-blue-dark);
            background-color: #E0F7FA; /* æµ…æ°´è‰²èƒŒæ™¯ */
        }
        .profile-title {
            color: var(--color-y2k-pink);
        }

        /* MV æ’­æ”¾å™¨å®¹å™¨ */
        .external-mv-player {
            background-color: #FFECB3; /* å¥¶æ²¹é»„ */
            box-shadow: 6px 6px 0px var(--color-y2k-pink); 
        }

        /* MP3 æ’­æ”¾å™¨å®¹å™¨ */
        .mp3-player {
            background-color: var(--color-soft-green);
            border: var(--pixel-border);
            border-radius: 12px;
            box-shadow: 8px 8px 0px 0px #000000, 
                        -4px -4px 0px 0px #ffffff,
                        inset 4px 4px 0px var(--color-green-dark),
                        inset -4px -4px 0px #ffffff;
            padding: 16px;
            position: relative;
        }
        
        /* å±å¹•åŒºåŸŸ */
        .screen {
            background-color: var(--color-green-screen);
            border: 4px solid #000000;
            box-shadow: inset 3px 3px 0px var(--color-blue-dark), inset -3px -3px 0px #ffffff;
        }
        
        .playback-animation {
            color: var(--color-y2k-pink);
        }
        .rotating-cd {
            font-size: 80px;
            text-shadow: 4px 4px 0px #000000;
        }
        .playing-info {
            font-size: 9px;
            color: var(--color-green-dark);
            padding: 5px 10px;
            border: 2px dashed var(--color-green-dark);
        }
        
        /* åƒç´ é£æŒ‰é’® */
        .pixel-button {
            background-color: var(--color-button); 
            box-shadow: 4px 4px 0px #000000;
        }
        
        /* --- ìŠ¤íƒ€ ê²Œì„ ì„¹ì…˜ --- */
        .pacman-section {
            margin-top: 20px;
            padding: 15px;
            background-color: #333333; /* è¡—æœºèƒŒæ™¯ */
            border: 6px solid var(--star-yellow);
            border-radius: 12px;
            box-shadow: 8px 8px 0px var(--color-y2k-pink);
            text-align: center;
        }
        .pacman-section h2 {
            color: var(--star-yellow); /* äº®é»„è‰²æ–‡æœ¬ */
            font-size: 14px;
            margin-bottom: 15px;
            text-shadow: 1px 1px 0 #000000;
        }
        #pacmanCanvas {
            border: 4px solid var(--color-y2k-pink);
            background-color: #000000;
            box-shadow: 4px 4px 0px var(--color-y2k-pink);
        }
        .game-info {
            color: #FFFFFF; /* ç™½è‰²ä¿¡æ¯æ–‡æœ¬ */
            background-color: #666;
        }

        /* --- íŒ¬ë ˆí„° ì„¹ì…˜ --- */
        .fanletter-section {
            margin-top: 20px;
            padding: 15px;
            background-color: var(--envelope-color); /* ä¿¡å°é¢œè‰² */
            border: 6px solid #FF80AB; /* æ·±ç²‰è‰²è¾¹æ¡† */
            border-radius: 12px;
            box-shadow: 8px 8px 0px #FF4081; /* çˆ±å¿ƒç²‰è‰²é˜´å½± */
            text-align: center;
            cursor: pointer; /* æç¤ºå¯ç‚¹å‡» */
            position: relative;
            overflow: hidden; /* é˜²æ­¢å†…å®¹æº¢å‡º */
            transition: all 0.3s ease-out;
        }
        .fanletter-section h2 {
            color: #FFFFFF; /* ç™½è‰²æ ‡é¢˜ */
            font-size: 14px;
            margin-bottom: 10px;
            text-shadow: 1px 1px 0 #000000;
            position: relative;
            z-index: 2; /* ç¡®ä¿åœ¨ä¿¡å°ä¸Šå±‚ */
        }
        .envelope-icon {
            font-size: 48px;
            color: #E91E63; /* å¿ƒå½¢çº¢è‰² */
            text-shadow: 2px 2px 0 #ffffff;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
        }
        .fanletter-content {
            background-color: var(--letter-paper); /* ä¿¡çº¸é¢œè‰² */
            border: 2px dashed #FF80AB; /* è™šçº¿è¾¹æ¡† */
            padding: 20px;
            margin-top: 15px;
            border-radius: 8px;
            font-size: 10px; /* ä¿¡çº¸æ–‡å­—å¤§å° */
            line-height: 1.8;
            text-align: left;
            white-space: pre-wrap; /* ä¿æŒæ¢è¡Œå’Œç©ºæ ¼ */
            color: #333;
            max-height: 0; /* åˆå§‹éšè— */
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.8s ease-out, opacity 0.6s ease-out;
        }
        .fanletter-section.open .fanletter-content {
            max-height: 1000px; /* å±•å¼€åçš„æœ€å¤§é«˜åº¦ (ä¿®å¤è¢«é®æŒ¡é—®é¢˜ï¼Œå¢åŠ é«˜åº¦) */
            opacity: 1;
        }
        .fanletter-section.open .envelope-icon {
            color: #FF5252; /* æ‰“å¼€æ—¶å¿ƒå½¢å˜è‰² */
        }
        /* Y2K è£…é¥° */
        .y2k-deco {
            position: absolute;
            font-size: 28px;
            text-shadow: 2px 2px 0 #000000;
            z-index: 10;
            pointer-events: none;
            opacity: 0.8;
            line-height: 1;
        }
        .star { top: 8px; left: 10px; color: #FFEB3B; transform: rotate(10deg); } /* é»„è‰²æ˜Ÿæ˜Ÿ */
        .wing { bottom: 8px; right: 10px; font-size: 34px; color: var(--color-y2k-pink); } /* ç²‰è‰²ç¿…è†€ */
        .palm { top: 30px; right: 15px; font-size: 24px; color: var(--color-green-dark); } /* ç»¿è‰²æ¤°æ ‘ */
    </style>
</head>
<body>
    <div class="app-container">
        <!-- ìƒë‹¨ ì†Œê°œ ì˜ì—­ --><div class="intro-section">
            <h1 class="intro-title">NCT WISH: WISH for Our WISH</h1>
            <p class="intro-text">
                âœ¨ ë„¤ì˜¤ ì»¬ì²˜ í…Œí¬ë†€ë¡œì§€, ì—”ì‹œí‹° ìœ„ì‹œ! ì €í¬ì˜ ìŒì•…ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì†Œì›ì´ í˜„ì‹¤ì´ ë˜ê¸°ë¥¼ ë°”ë¼ìš”. 
                ì²­ëŸ‰í•˜ê³  í¬ë§ì°¬ NCT WISHì˜ Y2K ê°ì„±ì„ ì§€ê¸ˆ ë°”ë¡œ ì•„ë˜ MP3 í”Œë ˆì´ì–´ì—ì„œ ë§Œë‚˜ë³´ì„¸ìš”! 
                ğŸ’« ğŸš€
            </p>
        </div>

        <!-- ë©¤ë²„ í”„ë¡œí•„ ì˜ì—­ --><div class="member-section">
            <h2 class="intro-title text-xl mb-4 text-center">ë©¤ë²„ í”„ë¡œí•„ (MEMBER PROFILE)</h2>
            
            <div class="member-grid">
                <button class="member-button" data-member="sion">SION<br>(ì‹œì˜¨)</button>
                <button class="member-button" data-member="riku">RIKU<br>(ë¦¬ì¿ )</button>
                <button class="member-button" data-member="yushi">YUSHI<br>(ìœ ìš°ì‹œ)</button>
                <button class="member-button" data-member="jaehee">JAEHEE<br>(ì¬í¬)</button>
                <button class="member-button" data-member="ryo">RYO<br>(ë£Œ)</button>
                <button class="member-button" data-member="sakuya">SAKUYA<br>(ì‚¬ì¿ ì•¼)</button>
            </div>

            <div class="intro-section" id="profileDisplay">
                <p class="profile-info text-center">ë©¤ë²„ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì†Œê°œë¥¼ í™•ì¸í•˜ì„¸ìš” âœ¨</p>
            </div>
        </div>
        
        <!-- MV í”Œë ˆì´ì–´ (ì™¸ë¶€) --><div class="external-mv-player">
            <h2 class="intro-title text-lg mb-3 text-center" style="color: var(--color-green-dark);">
                ğŸµ 'COLOR' MV ì „ìš© í”Œë ˆì´ì–´ ğŸµ
            </h2>
            <video controls id="externalMvPlayer" poster="https://placehold.co/640x360/0288D1/ffffff?text=NCT+WISH+COLOR+MV">
                <source src="https://raw.githubusercontent.com/swinnie259-art/demo/main/NCT%20WISH%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%89%E1%85%B5%E1%84%90%E1%85%B5%20%E1%84%8B%E1%85%B1%E1%84%89%E1%85%B5%20'COLOR'%20MV%20-%20SMTOWN%20(360p%2C%20h264).mp4" type="video/mp4">
                ì‚¬ìš©í•˜ì‹œëŠ” ë¸Œë¼ìš°ì €ëŠ” HTML5 ë¹„ë””ì˜¤ ì¬ìƒì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
            </video>
        </div>
        
        <!-- MP3 í”Œë ˆì´ì–´ ë³¸ì²´ --><div class="mp3-player">
            <!-- Y2K ì¥ì‹ --><div class="y2k-deco star" style="position: static; margin-bottom: 5px; font-size: 24px;">â˜… ğŸ’¿ ğŸ’–</div> 
            
            <!-- í™”ë©´ ì˜ì—­ --><div class="screen">
                
                <!-- ë…¸ë˜ ëª©ë¡ ì˜ì—­ (ê¸°ë³¸ í‘œì‹œ) --><div class="input-area" id="inputArea">
                    <div class="input-wrapper">
                        <input type="text" id="song1" class="song-input" placeholder="nctwishì˜ color ì…ë ¥" value="nctwishì˜ color" data-url="https://raw.githubusercontent.com/swinnie259-art/demo/main/NCT-WISH---COLOR-Bazeafrika.com.mp3">
                        <span class="cursor"></span>
                    </div>
                    <div class="input-wrapper">
                        <input type="text" id="song2" class="song-input" placeholder="nctwishì˜ surf ì…ë ¥" value="nctwishì˜ surf" data-url="https://raw.githubusercontent.com/swinnie259-art/demo/main/NCT-WISH---Surf-Bazeafrika.com.mp3">
                        <span class="cursor"></span>
                    </div>
                    <div class="input-wrapper">
                        <input type="text" id="song3" class="song-input" placeholder="nctwishì˜ wichu ì…ë ¥" value="nctwishì˜ wichu" data-url="https://raw.githubusercontent.com/swinnie259-art/demo/main/NCT-WISH---WICHU-Bazeafrika.com.mp3">
                        <span class="cursor"></span>
                    </div>
                </div>
                
                <!-- ì¬ìƒ ì• ë‹ˆë©”ì´ì…˜ --><div class="playback-animation" id="playbackAnimation">
                    <span class="rotating-cd">ğŸ§</span>
                    <div class="playing-info" id="playingInfo"></div>
                </div>
            </div>

            <div class="controls">
                <button class="pixel-button" id="backButton">ë…¸ë˜ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button> 
                <button class="pixel-button" id="playButton">â–¶ ì¬ìƒ</button>
                <button class="pixel-button" id="nextButton">â–¶â–¶ ë‹¤ìŒ ê³¡</button>
            </div>
            
            <!-- ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ (ìˆ¨ê¹€) --><audio id="audioPlayer"></audio>
        </div>

        <!-- ìŠ¤íƒ€ ê²Œì„ ì„¹ì…˜ --><div class="pacman-section">
            <h2>ğŸŒŸ í”½ì…€ ìŠ¤íƒ€ì¼ì˜ ìŠ¤íƒ€ ê²Œì„ ğŸŒŸ</h2>
            <div class="game-container">
                <canvas id="pacmanCanvas"></canvas>
                <div class="game-info">
                    <p id="scoreDisplay">SCORE: 0</p>
                    <p id="statusDisplay">ë°©í–¥í‚¤ ë˜ëŠ” í™”ë©´ ìŠ¤ì™€ì´í”„ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œì‘!</p>
                </div>
            </div>
        </div>

        <!-- íŒ¬ë ˆí„° ì„¹ì…˜ --><div class="fanletter-section" id="fanletterSection">
            <h2>ğŸ’Œ íŒ¬ë ˆí„° (FAN LETTER) ğŸ’Œ</h2>
            <div class="envelope-icon">ğŸ’–</div>
            <div class="fanletter-content" id="fanletterContent">
ì˜¤ë¹ ! ì•ˆë…•í•˜ì„¸ìš”.
ì €ëŠ” ê°€ìŒì´ì—ìš”.

ìš°ë¦¬ ì²˜ìŒ ë§Œë‚œ ì§€ ì •ë§ ì˜¤ë˜ëœ ê²ƒ ê°™ì£ ?
ì¬í¬ ì˜¤ë¹ ê°€ ìš°ë¦¬ ì•ì— ë‚˜íƒ€ë‚˜ì¤˜ì„œ,
ê·¸ ì‚¬ëŒì´ ë˜ì–´ì¤˜ì„œ í•­ìƒ ì •ë§ ê³ ë§ˆì›Œìš”.

ë¬´ëŒ€ ìœ„ì—ì„œ ë°˜ì§ì´ëŠ” ëª¨ìŠµë„,
ë¬´ëŒ€ ì•„ë˜ì—ì„œ ì¡°ìš©íˆ ë¯¸ì†Œ ì§“ëŠ” ëª¨ìŠµë„,
ì˜¤ë¹ ë§Œ ë³´ë©´ í˜ë“¤ë˜ í•˜ë£¨ë„ ë‹¤ì‹œ ê´œì°®ì•„ì§€ëŠ” ê²ƒ ê°™ì•„ìš”.
ì˜¤ë¹ ëŠ” ì €ì—ê²Œ ì •ë§ í° í˜ì´ì—ìš”.
ê·¸ë˜ì„œ ì˜¤ëŠ˜ì€ ê·¸ëƒ¥, ê³ ë§™ë‹¤ëŠ” ë§ì„ ê¼­ í•˜ê³  ì‹¶ì—ˆì–´ìš”.

ì˜¤ë¹ ë„ ê°€ë”ì€ ë§ì´ í˜ë“¤ì§€ ì•Šì„ê¹Œâ€¦
ì €ëŠ” ìì£¼ ê·¸ë ‡ê²Œ ìƒê°í•´ìš”.
ì˜¤ë¹ ê°€ ë„ˆë¬´ ë¶€ë‹´ ê°–ì§€ ì•Šì•˜ìœ¼ë©´ ì¢‹ê² ê³ ,
ë„ˆë¬´ í˜ë“¤ì§€ ì•Šì•˜ìœ¼ë©´ ì¢‹ê² ê³ ,
ì¢‹ì€ ì¼ê³¼ ì¢‹ì€ ë§ë§Œ ë“£ê³  ë³´ë©´ì„œ ì§€ëƒˆìœ¼ë©´ ì¢‹ê² ì–´ìš”.
ìƒì²˜ ë˜ëŠ” ë§ë“¤ì€ ì‹ ê²½ ì“°ì§€ ì•Šì•˜ìœ¼ë©´ í•´ìš”.

ì˜¤ë¹ ëŠ” ì •ë§ ê°€ì¥ ì†Œì¤‘í•œ ì‚¬ëŒì´ê³ ,
ì œê°€ ì°¸ ë§ì´ ì•„ë¼ëŠ” ì‚¬ëŒì´ì—ìš”.
ì•ìœ¼ë¡œë„ ê³„ì† ì‘ì›í• ê²Œìš”.
ì˜¤ë¹ ëŠ” ì–¸ì œë‚˜ í–‰ë³µí–ˆìœ¼ë©´ ì¢‹ê² ì–´ìš”.

ê·¸ë¦¬ê³ â€¦ ì¢‹ì•„í•´, ì •ë§ ë§ì´.
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- ìŒì•… í”Œë ˆì´ì–´ ë¡œì§ ---
            const playButton = document.getElementById('playButton');
            const nextButton = document.getElementById('nextButton');
            const backButton = document.getElementById('backButton'); 
            const audioPlayer = document.getElementById('audioPlayer');
            const inputArea = document.getElementById('inputArea');
            const playbackAnimation = document.getElementById('playbackAnimation');
            const playingInfo = document.getElementById('playingInfo');
            const songInputs = [
                document.getElementById('song1'),
                document.getElementById('song2'),
                document.getElementById('song3')
            ];
            const externalMvPlayer = document.getElementById('externalMvPlayer');

            // --- ë©¤ë²„ ë°ì´í„° ë° í‘œì‹œ ë¡œì§ ---
            const members = {
                sion: {
                    korean: "ì‹œì˜¨ (SION)",
                    birthday: "2002.05.11",
                    info: "NCT WISHì˜ ë§í˜•ì´ì ë¦¬ë”. íŒ€ì„ ë“ ë“ í•˜ê²Œ ì´ëŒì–´ê°€ëŠ” ë§í˜•.", 
                    emoji: "ğŸŒ·"
                },
                riku: {
                    korean: "ë¦¬ì¿  (RIKU)",
                    birthday: "2003.06.28",
                    info: "ë„˜ì¹˜ëŠ” ì—ë„ˆì§€ì™€ ë°ì€ ë¯¸ì†Œê°€ íŠ¸ë ˆì´ë“œë§ˆí¬! ë¬´ëŒ€ ìœ„ì—ì„œ ëŠ˜ ë¹›ë‚˜ìš”.",
                    emoji: "ğŸ¿ï¸"
                },
                yushi: {
                    korean: "ìœ ìš°ì‹œ (YUSHI)",
                    birthday: "2004.04.05",
                    info: "ì‹œí¬í•œ ëˆˆë¹›ê³¼ ë¶€ë“œëŸ¬ìš´ ì¹´ë¦¬ìŠ¤ë§ˆ. ë§¤ ìˆœê°„ ì„¬ì„¸í•œ í¼í¬ë¨¼ìŠ¤!",
                    emoji: "â­"
                },
                jaehee: {
                    korean: "ì¬í¬ (JAEHEE)",
                    birthday: "2005.06.21",
                    info: "íŒ€ì˜ ë¶„ìœ„ê¸° ë©”ì´ì»¤. ë°ì€ ë§¤ë ¥ìœ¼ë¡œ íŒ¬ë“¤ì—ê²Œ ê¸°ì¨ì„ ì¤˜ìš”.",
                    emoji: "ğŸŒ³"
                },
                ryo: {
                    korean: "ë£Œ (RYO)",
                    birthday: "2007.08.04",
                    info: "ê·€ì—¬ìš´ ë¹„ì£¼ì–¼ê³¼ ë°˜ì „ í¼í¬ë¨¼ìŠ¤ ì‹¤ë ¥! ë¬´í•œí•œ ì„±ì¥ ê°€ëŠ¥ì„±!",
                    emoji: "ğŸ¦¦"
                },
                sakuya: {
                    korean: "ì‚¬ì¿ ì•¼ (SAKUYA)",
                    birthday: "2007.11.18",
                    info: "ì‚¬ë‘ìŠ¤ëŸ¬ìš´ íŒ€ì˜ ë§‰ë‚´. ê°œì„±ê³¼ ë§¤ë ¥ìœ¼ë¡œ í˜•ë“¤ì˜ ì‚¬ë‘ì„ ë…ì°¨ì§€.",
                    emoji: "ğŸ"
                }
            };

            const memberButtons = document.querySelectorAll('.member-button');
            const profileDisplay = document.getElementById('profileDisplay');

            function displayProfile(memberKey) {
                const member = members[memberKey];
                if (!member) return;

                profileDisplay.style.display = 'block';
                
                // ë©¤ë²„ ì •ë³´ í‘œì‹œ í…œí”Œë¦¿ (í•œêµ­ì–´ë¡œ ë³€ê²½)
                profileDisplay.innerHTML = `
                    <p class="profile-title">â­ ${member.korean}</p>
                    <p class="profile-info mb-2">ğŸ‚ ìƒì¼ (Birthday): ${member.birthday}</p>
                    
                    <div style="margin-top: 15px; border-top: 2px dashed ${getComputedStyle(document.documentElement).getPropertyValue('--color-y2k-pink')}; padding-top: 15px; margin-bottom: 15px;">
                        <p class="profile-title text-center text-sm" style="font-size: 10px; color: var(--color-green-dark);">âœ¨ ëŒ€í‘œ ì´ëª¨ì§€ (REPRESENTATIVE EMOJI) âœ¨</p>
                        <div class="profile-info text-center" style="color: var(--color-blue-dark); padding: 10px 0; border: 3px solid var(--color-blue-dark); background-color: #ffffff; line-height: 1.2; box-shadow: 4px 4px 0 var(--color-y2k-pink);">
                            <span style="font-size: 64px; line-height: 1;">${member.emoji}</span> 
                        </div>
                        <p class="profile-info text-center mt-2" style="font-size: 7px; color: var(--color-green-dark);">
                            (${member.korean.split('(')[0].trim()}ì˜ ì „ìš© ì‹¬ë³¼)
                        </p>
                    </div>
                    
                    <p class="profile-info mt-3">âœ¨ ì†Œê°œ (Intro): ${member.info} âœ¨</p>
                `;
            }

            memberButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const memberKey = this.dataset.member;
                    displayProfile(memberKey);
                });
            });

            // --- MP3 ì¬ìƒ ë¡œì§ ---
            let currentSongIndex = 0;
            let isPlaying = false; 
            
            function getUpdatedSongList() {
                return songInputs.map(input => ({
                    name: input.value,
                    url: input.dataset.url 
                }));
            }
            
            function showInputArea() {
                inputArea.style.display = 'block';
                playbackAnimation.style.display = 'none';
            }
            
            function showPlaybackAnimation() {
                 inputArea.style.display = 'none';
                 playbackAnimation.style.display = 'flex';
            }
            
            function playSong(startFromCurrent = false) {
                showPlaybackAnimation(); 
                externalMvPlayer.pause();
                
                const list = getUpdatedSongList();
                if (list.length === 0) {
                    playingInfo.textContent = 'ì˜¤ë¥˜: ë…¸ë˜ ëª©ë¡ì´ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤.';
                    return;
                }

                if (!startFromCurrent) {
                    if (currentSongIndex >= list.length) {
                        currentSongIndex = 0;
                    } else if (currentSongIndex < 0) {
                        currentSongIndex = list.length - 1;
                    }
                }

                const song = list[currentSongIndex];
                
                audioPlayer.src = song.url;
                audioPlayer.load(); 
                
                audioPlayer.play()
                    .then(() => {
                        isPlaying = true;
                        playButton.textContent = 'â¸ ì¼ì‹œ ì •ì§€';
                        playingInfo.textContent = `ì¬ìƒ ì¤‘: ${song.name.toUpperCase()}`;
                    })
                    .catch(error => {
                        console.error("ì˜¤ë””ì˜¤ ì¬ìƒ ì‹¤íŒ¨:", error);
                        playingInfo.textContent = `ë¡œë“œ ì‹¤íŒ¨: ${song.name.toUpperCase()}`;
                        
                        if (isPlaying || !startFromCurrent) {
                            currentSongIndex++;
                            setTimeout(playSong, 1000); 
                        } else {
                            playButton.textContent = 'â–¶ ì¬ìƒ';
                            isPlaying = false;
                            showInputArea(); 
                        }
                    });
            }
            
            function returnToHomeScreen() {
                audioPlayer.pause();
                externalMvPlayer.pause(); 
                
                audioPlayer.currentTime = 0; 
                isPlaying = false;
                
                playButton.textContent = 'â–¶ ì¬ìƒ';
                currentSongIndex = 0; 
                
                showInputArea();
                playingInfo.textContent = 'ë‹¤ì‹œ ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•´ìš”!';
            }

            playButton.addEventListener('click', () => {
                externalMvPlayer.pause();
                if (!isPlaying) {
                    if (audioPlayer.paused && audioPlayer.src && audioPlayer.currentTime > 0) {
                        audioPlayer.play()
                            .then(() => {
                                isPlaying = true;
                                playButton.textContent = 'â¸ ì¼ì‹œ ì •ì§€';
                                showPlaybackAnimation();
                            })
                            .catch(error => { console.error("ì¬ìƒ ì¬ê°œ ì‹¤íŒ¨:", error); playSong(true); });
                    } else {
                        currentSongIndex = 0;
                        playSong();
                    }
                } else {
                    audioPlayer.pause();
                    playButton.textContent = 'â–¶ ì¬ìƒ';
                    isPlaying = false;
                }
            });

            nextButton.addEventListener('click', () => {
                externalMvPlayer.pause();
                currentSongIndex++; 
                audioPlayer.pause(); 
                playSong(); 
            });

            backButton.addEventListener('click', returnToHomeScreen);
            
            audioPlayer.addEventListener('ended', () => {
                currentSongIndex++;
                playSong();
            });

            songInputs.forEach(input => {
                input.addEventListener('focus', function() {
                    document.querySelectorAll('.cursor').forEach(c => c.style.display = 'none');
                    const cursor = this.nextElementSibling;
                    if (cursor && cursor.classList.contains('cursor')) {
                        cursor.style.display = 'block';
                    }
                });
                input.addEventListener('blur', function() {
                    const cursor = this.nextElementSibling;
                    if (cursor && cursor.classList.contains('cursor')) {
                        cursor.style.display = 'none';
                    }
                });
            });
            
            returnToHomeScreen();

            // --- ìŠ¤íƒ€ ê²Œì„ ë¡œì§ (ë‚ ê°œ ë‹¬ë¦° ë³„) ---
            const canvas = document.getElementById('pacmanCanvas');
            const ctx = canvas.getContext('2d');
            const scoreDisplay = document.getElementById('scoreDisplay');
            const statusDisplay = document.getElementById('statusDisplay');

            // --- Star Game Constants ---
            const TILE_SIZE = 20;
            const MAZE_WIDTH = 15;
            const MAZE_HEIGHT = 15;
            let SCALE_FACTOR = 1; 

            // 0=ë²½, 1=ì½©(ë„íŠ¸), 2=ë¹ˆ ê³µê°„, 3=í”Œë ˆì´ì–´ ì‹œì‘ì 
            let initialMaze = [
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                [0,1,1,1,1,1,1,2,1,1,1,1,1,1,0],
                [0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],
                [0,1,0,1,1,1,1,1,1,1,1,1,0,1,0],
                [0,1,0,1,0,0,1,0,1,0,0,1,0,1,0],
                [0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
                [0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],
                [0,1,1,1,1,1,1,3,1,1,1,1,1,1,0], // 3 is starting position
                [0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],
                [0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
                [0,1,0,1,0,0,1,0,1,0,0,1,0,1,0],
                [0,1,0,1,1,1,1,1,1,1,1,1,0,1,0],
                [0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],
                [0,1,1,1,1,1,1,2,1,1,1,1,1,1,0],
                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
            ];
            
            let maze = JSON.parse(JSON.stringify(initialMaze));
            
            // ê²Œì„ ìƒíƒœ
            let score = 0;
            let player = { x: 7, y: 7, dir: 'RIGHT', nextDir: 'RIGHT', animationPhase: 0 };
            let lastMoveTime = 0;
            const MOVE_INTERVAL = 150; 
            
            // í„°ì¹˜ ì œì–´ ë³€ìˆ˜
            let touchStartX = 0;
            let touchStartY = 0;
            const SWIPE_THRESHOLD = 20;

            function drawStar(ctx, cx, cy, spikes, outerRadius, innerRadius, rotation = 0) {
                let rot = Math.PI / 2 * 3 + rotation;
                let x = cx;
                let y = cy;
                let step = Math.PI / spikes;

                ctx.beginPath();
                ctx.moveTo(cx, cy - outerRadius);
                for (let i = 0; i < spikes; i++) {
                    x = cx + Math.cos(rot) * outerRadius;
                    y = cy + Math.sin(rot) * outerRadius;
                    ctx.lineTo(x, y);
                    rot += step;

                    x = cx + Math.cos(rot) * innerRadius;
                    y = cy + Math.sin(rot) * innerRadius;
                    ctx.lineTo(x, y);
                    rot += step;
                }
                ctx.lineTo(cx, cy - outerRadius);
                ctx.closePath();
            }

            function resizeCanvas() {
                const size = canvas.clientWidth;
                canvas.width = size;
                canvas.height = size;
                draw();
            }

            window.addEventListener('resize', resizeCanvas);

            function initGame() {
                score = 0;
                maze = JSON.parse(JSON.stringify(initialMaze));
                for (let y = 0; y < MAZE_HEIGHT; y++) {
                    for (let x = 0; x < MAZE_WIDTH; x++) {
                        if (maze[y][x] === 3) {
                            player.x = x;
                            player.y = y;
                        }
                    }
                }
                statusDisplay.textContent = 'ë°©í–¥í‚¤ ë˜ëŠ” í™”ë©´ ìŠ¤ì™€ì´í”„ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œì‘!';
                scoreDisplay.textContent = `SCORE: ${score}`;
                resizeCanvas();
            }

            function movePlayer(dx, dy, newDir) {
                const newX = player.x + dx;
                const newY = player.y + dy;

                if (maze[newY][newX] !== 0) { // If not a wall
                    player.x = newX;
                    player.y = newY;
                    player.dir = newDir; // Update current direction on successful move
                    
                    // Check for dot
                    if (maze[player.y][player.x] === 1) {
                        maze[player.y][player.x] = 2; // Erase dot
                        score += 10;
                        scoreDisplay.textContent = `SCORE: ${score}`;
                    }

                    // Check for win condition
                    const remainingDots = maze.flat().filter(tile => tile === 1).length;
                    if (remainingDots === 0) {
                        statusDisplay.textContent = 'LEVEL CLEAR! ì¶•í•˜í•©ë‹ˆë‹¤!';
                        cancelAnimationFrame(animationFrameId);
                    }
                    return true;
                }
                return false;
            }
            
            function attemptMove(dir) {
                switch (dir) {
                    case 'UP': return movePlayer(0, -1, 'UP');
                    case 'DOWN': return movePlayer(0, 1, 'DOWN');
                    case 'LEFT': return movePlayer(-1, 0, 'LEFT');
                    case 'RIGHT': return movePlayer(1, 0, 'RIGHT');
                }
                return false;
            }

            function updateGame(timestamp) {
                if (timestamp - lastMoveTime > MOVE_INTERVAL) {
                    lastMoveTime = timestamp;

                    // 1. Try to move in the 'nextDir'
                    if (attemptMove(player.nextDir)) {
                        // Success, player.dir is updated inside attemptMove
                    } else {
                        // 2. Fallback: Try to move in the current 'dir'
                        attemptMove(player.dir);
                    }

                    // Player animation phase for mouth/star movement
                    player.animationPhase = (player.animationPhase + 1) % 4; 
                }
            }

            function draw() {
                // Clear the canvas
                ctx.fillStyle = '#000000';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                SCALE_FACTOR = canvas.width / (MAZE_WIDTH * TILE_SIZE);
                const scaledTileSize = TILE_SIZE * SCALE_FACTOR;

                // Draw maze elements
                for (let y = 0; y < MAZE_HEIGHT; y++) {
                    for (let x = 0; x < MAZE_WIDTH; x++) {
                        const drawX = x * scaledTileSize;
                        const drawY = y * scaledTileSize;
                        
                        if (maze[y][x] === 0) { // Wall
                            ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--game-wall');
                            ctx.fillRect(drawX, drawY, scaledTileSize, scaledTileSize);
                            
                            // Pixel details (optional)
                            ctx.fillStyle = '#555555';
                            ctx.fillRect(drawX, drawY, scaledTileSize * 0.1, scaledTileSize);
                            ctx.fillRect(drawX, drawY, scaledTileSize, scaledTileSize * 0.1);

                        } else if (maze[y][x] === 1) { // Dot (small star)
                            ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--star-yellow');
                            drawStar(ctx, drawX + scaledTileSize / 2, drawY + scaledTileSize / 2, 5, scaledTileSize * 0.15, scaledTileSize * 0.07, 0);
                            ctx.fill();
                        }
                    }
                }
                
                // Draw Player (Winged Star)
                const playerCenter = scaledTileSize / 2;
                const playerX = player.x * scaledTileSize + playerCenter;
                const playerY = player.y * scaledTileSize + playerCenter;
                const starSize = scaledTileSize * 0.4;
                
                // 1. Draw Wings (Simple Rectangles/Triangles for pixel feel)
                ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--color-y2k-pink');
                
                // Wing left
                ctx.fillRect(playerX - starSize * 2, playerY - starSize * 0.3, starSize * 0.5, starSize * 0.6);
                // Wing right
                ctx.fillRect(playerX + starSize * 1.5, playerY - starSize * 0.3, starSize * 0.5, starSize * 0.6);
                
                // 2. Draw Star Body
                ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--star-yellow');
                ctx.shadowColor = '#FFEB3B';
                ctx.shadowBlur = 10;
                
                let starRotation = 0;
                // Add a slight rotation animation based on phase
                if (player.animationPhase % 2 === 1) {
                    starRotation = Math.PI / 16;
                }

                drawStar(ctx, playerX, playerY, 5, starSize, starSize * 0.4, starRotation);
                ctx.fill();
                
                ctx.shadowBlur = 0; // Reset shadow

                // 3. Draw Eye (Simple Black Dot)
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                // Eye position adjusted slightly based on direction
                let eyeOffsetX = 0;
                let eyeOffsetY = 0;
                
                if (player.dir === 'RIGHT') eyeOffsetX = starSize * 0.3;
                if (player.dir === 'LEFT') eyeOffsetX = -starSize * 0.3;
                if (player.dir === 'UP') eyeOffsetY = -starSize * 0.3;
                if (player.dir === 'DOWN') eyeOffsetY = starSize * 0.3;
                
                ctx.arc(playerX + eyeOffsetX, playerY + eyeOffsetY, starSize * 0.1, 0, Math.PI * 2);
                ctx.fill();
            }

            let animationFrameId;

            function animate(timestamp) {
                updateGame(timestamp);
                draw();
                animationFrameId = requestAnimationFrame(animate);
            }
            
            // --- Event Handlers ---
            
            // Keyboard Controls
            document.addEventListener('keydown', (e) => {
                let newDir = player.nextDir;
                switch (e.key) {
                    case 'ArrowUp': newDir = 'UP'; break;
                    case 'ArrowDown': newDir = 'DOWN'; break;
                    case 'ArrowLeft': newDir = 'LEFT'; break;
                    case 'ArrowRight': newDir = 'RIGHT'; break;
                }
                // Only set nextDir if it's a valid change
                if (newDir !== player.nextDir) {
                     player.nextDir = newDir;
                     statusDisplay.textContent = 'ê²Œì„ í”Œë ˆì´ ì¤‘...';
                }
            });

            // Touch Controls (Swipe)
            canvas.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                touchStartY = e.touches[0].clientY;
            });

            canvas.addEventListener('touchend', (e) => {
                if (e.changedTouches.length === 0) return;

                const touchEndX = e.changedTouches[0].clientX;
                const touchEndY = e.changedTouches[0].clientY;

                const dx = touchEndX - touchStartX;
                const dy = touchEndY - touchStartY;

                if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > SWIPE_THRESHOLD) {
                    // Horizontal swipe
                    player.nextDir = dx > 0 ? 'RIGHT' : 'LEFT';
                    statusDisplay.textContent = 'ê²Œì„ í”Œë ˆì´ ì¤‘...';
                } else if (Math.abs(dy) > SWIPE_THRESHOLD) {
                    // Vertical swipe
                    player.nextDir = dy > 0 ? 'DOWN' : 'UP';
                    statusDisplay.textContent = 'ê²Œì„ í”Œë ˆì´ ì¤‘...';
                }
            });
            
            // --- Fan Letter Toggle Logic ---
            const fanletterSection = document.getElementById('fanletterSection');
            
            fanletterSection.addEventListener('click', () => {
                fanletterSection.classList.toggle('open');
            });


            // Initial setup
            initGame(); 
            
            // Start the game loop after a slight delay or on user action
            // For now, start it immediately.
            animationFrameId = requestAnimationFrame(animate);
            
        });
    </script>
</body>
</html>
